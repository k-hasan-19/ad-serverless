{"filter":false,"title":"app.py","tooltip":"/eap-user-crud/app.py","undoManager":{"mark":74,"position":74,"stack":[[{"start":{"row":21,"column":8},"end":{"row":21,"column":15},"action":"remove","lines":["company"],"id":3},{"start":{"row":21,"column":8},"end":{"row":21,"column":9},"action":"insert","lines":["u"]},{"start":{"row":21,"column":9},"end":{"row":21,"column":10},"action":"insert","lines":["s"]},{"start":{"row":21,"column":10},"end":{"row":21,"column":11},"action":"insert","lines":["e"]},{"start":{"row":21,"column":11},"end":{"row":21,"column":12},"action":"insert","lines":["r"]}],[{"start":{"row":12,"column":19},"end":{"row":12,"column":35},"action":"remove","lines":["get_company_meta"],"id":6},{"start":{"row":12,"column":19},"end":{"row":12,"column":32},"action":"insert","lines":["get_user_meta"]}],[{"start":{"row":51,"column":8},"end":{"row":51,"column":15},"action":"remove","lines":["company"],"id":7},{"start":{"row":51,"column":8},"end":{"row":51,"column":9},"action":"insert","lines":["u"]},{"start":{"row":51,"column":9},"end":{"row":51,"column":10},"action":"insert","lines":["s"]},{"start":{"row":51,"column":10},"end":{"row":51,"column":11},"action":"insert","lines":["e"]},{"start":{"row":51,"column":11},"end":{"row":51,"column":12},"action":"insert","lines":["r"]}],[{"start":{"row":15,"column":19},"end":{"row":15,"column":35},"action":"remove","lines":["put_company_meta"],"id":8},{"start":{"row":15,"column":19},"end":{"row":15,"column":32},"action":"insert","lines":["put_user_meta"]}],[{"start":{"row":0,"column":0},"end":{"row":170,"column":0},"action":"remove","lines":["import os","import boto3","import json","import decimal","","from boto3.dynamodb.conditions import Key, Attr","from botocore.exceptions import ClientError","from encoder_class import DecimalEncoder","","","def crud_handler(event, context):","    if event['httpMethod']=='GET':","        response = get_user_meta(event, context)","        return response","    if event['httpMethod']=='PUT':","        response = put_user_meta(event, context)","        return response","","","","","def get_user_meta(event, context):","    ","    table = __get_table_client()","    company_id = event[\"queryStringParameters\"][\"id\"]","    PK, SK = _get_company_meta_keys(company_id)","    print(\"Key: \", json.dumps({'PK':PK, 'SK':SK}, indent=4))","","    try:","        data = table.get_item(Key={\"PK\":PK, \"SK\":SK}, ReturnConsumedCapacity='TOTAL')","        ","        company_meta_info = _parse_company_details(data[\"Item\"])","        ","        # response = table.get_item(Key={\"PK\":\"COMPANY#8fd4728b-89b6-40aa-a57a-85a4672ec9a0\", \"SK\":\"#METADATA#8fd4728b-89b6-40aa-a57a-85a4672ec9a0\"}, ReturnConsumedCapacity='TOTAL')","","    except ClientError as e:","        print(e.response['Error']['Message'])","        return _response(500, {'status':\"DynamoDB Client Error\"})","    except KeyError as e:","        print(e)","        return _response(404, {'status':\"ITEM NOT FOUND\"})","    else:","        consumed_cap = data[\"ConsumedCapacity\"]","        print(\"GetItem succeeded:\")","        print(json.dumps(data, indent=4, cls=DecimalEncoder))","        ","        ","    ","    return _response(200, company_meta_info)","    ","","def put_user_meta(event, context):","    ","    table = __get_table_client()","    ","    payload = json.loads(event['body'])","    ","    PK, SK, name, domain, address, company_id, created_at, updated_at = _get_company_meta(payload)","    ","    print(PK, SK, name, domain, address, created_at, updated_at)","","    try:","        table.update_item(","            Key={","                'PK': PK,","                'SK': SK","            },","            UpdateExpression='SET #company_name = :company_name, #company_domain = :company_domain, #company_address = :company_address, #company_id = :company_id, #created_at = :created_at, #updated_at = :updated_at',","            ExpressionAttributeNames={","                '#company_name': 'name',","                '#company_domain': 'company_domain',","                '#company_address': 'address',","                '#company_id': 'company_id',","                '#created_at':'created_at',","                '#updated_at':'updated_at'","            },","            ExpressionAttributeValues={","                ':company_name': name,","                ':company_domain': domain,","                ':company_address': address,","                ':company_id': company_id,","                ':created_at': created_at,","                ':updated_at': updated_at","            },","            ReturnConsumedCapacity='TOTAL'","        )","        payload['company_id'] = company_id","        # response = table.get_item(Key={\"PK\":\"COMPANY#8fd4728b-89b6-40aa-a57a-85a4672ec9a0\", \"SK\":\"#METADATA#8fd4728b-89b6-40aa-a57a-85a4672ec9a0\"}, ReturnConsumedCapacity='TOTAL')","","    except ClientError as e:","        print(e.response['Error']['Message'])","        return _response(500, {'status':\"DynamoDB Client Error\"})","    except KeyError as e:","        print(e)","        return _response(404, {'status':\"ITEM NOT FOUND\"})","    else:","        print(\"PutItem succeeded:\")","        print(json.dumps(payload, indent=4, cls=DecimalEncoder))","        ","    return _response(201, payload)","    ","    ","''' Company info cleaner'''","","def _parse_company_details(item):","    item.pop('PK', None)","    item.pop('SK', None)","    return item","","''' Company partition key generator '''","","def _get_company_meta(payload):","    import uuid","    time_now_rfc = _date_time_now()","    if not payload.get('company_id'):","        company_id = str(uuid.uuid4())","        created_at = time_now_rfc","        updated_at = time_now_rfc","    else:","        company_id = payload['company_id']","        updated_at = time_now_rfc","        created_at = payload.get('created_at') if payload.get('created_at') else time_now_rfc","    PK = \"COMPANY#\" + company_id","    SK = \"#METADATA#\" + company_id","    name = payload['name']","    domain = payload['domain']","    address = payload['address']","    return (","        PK,","        SK,","        name,","        domain,","        address,","        company_id,","        created_at,","        updated_at","    )","","def _get_company_meta_keys(company_id):","    PK = \"COMPANY#\" + company_id","    SK = \"#METADATA#\" + company_id","    return (","        PK,","        SK","        )","        ","def _date_time_now():","    import datetime","    return str(datetime.datetime.utcnow().isoformat('T'))+'Z'","# Http response builder","","def _response(status_code, json_body):","    body = json.dumps(json_body)","","    return {","        \"statusCode\": status_code,","        \"headers\": {","            \"Content-Type\": \"application/json\",","            # \"Access-Control-Allow-Origin\": \"*\"","        },","        \"body\": body,","    }","","","def __get_table_client():","    TABLE_NAME = os.getenv(\"TABLE_NAME\")","    AWS_REGION_DYNAMODB = os.getenv('AWS_REGION_DYNAMODB')","    dynamodb = boto3.resource(\"dynamodb\", region_name=AWS_REGION_DYNAMODB)","    table = dynamodb.Table(TABLE_NAME)","    return table",""],"id":9},{"start":{"row":0,"column":0},"end":{"row":170,"column":0},"action":"insert","lines":["import os","import boto3","import json","import decimal","","from boto3.dynamodb.conditions import Key, Attr","from botocore.exceptions import ClientError","from encoder_class import DecimalEncoder","","","def crud_handler(event, context):","    if event['httpMethod']=='GET':","        response = get_user_meta(event, context)","        return response","    if event['httpMethod']=='PUT':","        response = put_user_meta(event, context)","        return response","","","","","def get_user_meta(event, context):","    ","    table = __get_table_client()","    company_id = event[\"queryStringParameters\"][\"company_id\"]","    user_id = event[\"queryStringParameters\"][\"user_id\"]","    PK, SK = _get_user_meta_keys(company_id, user_id)","    print(\"Key: \", json.dumps({'PK':PK, 'SK':SK}, indent=4))","","    try:","        data = table.get_item(Key={\"PK\":PK, \"SK\":SK}, ReturnConsumedCapacity='TOTAL')","        ","        company_user_info = _parse_user_details(data[\"Item\"])","        ","        # response = table.get_item(Key={\"PK\":\"COMPANY#8fd4728b-89b6-40aa-a57a-85a4672ec9a0\", \"SK\":\"#METADATA#8fd4728b-89b6-40aa-a57a-85a4672ec9a0\"}, ReturnConsumedCapacity='TOTAL')","","    except ClientError as e:","        print(e.response['Error']['Message'])","        return _response(500, {'status':\"DynamoDB Client Error\"})","    except KeyError as e:","        print(e)","        return _response(404, {'status':\"ITEM NOT FOUND\"})","    else:","        consumed_cap = data[\"ConsumedCapacity\"]","        print(\"GetItem succeeded:\")","        print(json.dumps(data, indent=4, cls=DecimalEncoder))","        ","        ","    ","    return _response(200, company_user_info)","    ","","def put_user_meta(event, context):","    ","    table = __get_table_client()","    ","    payload = json.loads(event['body'])","    ","    PK, SK, company_id, user_id, email, first_name, last_name, address, created_at, updated_at = _get_user_meta(payload)","    ","    print(PK, SK, company_id, user_id, email, first_name, last_name, address, created_at, updated_at)","","    try:","        table.update_item(","            Key={","                'PK': PK,","                'SK': SK","            },","            UpdateExpression='SET #company_name = :company_name, #company_domain = :company_domain, #company_address = :company_address, #company_id = :company_id, #created_at = :created_at, #updated_at = :updated_at',","            ExpressionAttributeNames={","                '#company_id': 'company_id',","                '#user_id': 'user_id',","                '#email': 'email',","                '#first_name': 'first_name',","                '#last_name': 'last_name',","                '#address': 'address',","                '#created_at':'created_at',","                '#updated_at':'updated_at'","            },","            ExpressionAttributeValues={","                ':company_id': company_id,","                ':user_id': user_id,","                ':email': email,","                ':first_name': first_name,","                ':last_name': last_name,","                ':address': address,","                ':created_at': created_at,","                ':updated_at': updated_at","            },","            ReturnConsumedCapacity='TOTAL'","        )","        payload['user_id'] = user_id","        # response = table.get_item(Key={\"PK\":\"COMPANY#8fd4728b-89b6-40aa-a57a-85a4672ec9a0\", \"SK\":\"#METADATA#8fd4728b-89b6-40aa-a57a-85a4672ec9a0\"}, ReturnConsumedCapacity='TOTAL')","","    except ClientError as e:","        print(e.response['Error']['Message'])","        return _response(500, {'status':\"DynamoDB Client Error\"})","    except KeyError as e:","        print(e)","        return _response(404, {'status':\"ITEM NOT FOUND\"})","    else:","        print(\"PutItem succeeded:\")","        print(json.dumps(payload, indent=4, cls=DecimalEncoder))","        ","    return _response(201, payload)","    ","    ","''' Company info cleaner'''","","def _parse_user_details(item):","    item.pop('PK', None)","    item.pop('SK', None)","    return item","","''' Company partition key generator '''","","def _get_user_meta(payload):","    import uuid","    time_now_rfc = _date_time_now()","    if not payload.get('user_id'):","        user_id = str(uuid.uuid4())","        created_at = time_now_rfc","        updated_at = time_now_rfc","    else:","        user_id = payload['company_id']","        updated_at = time_now_rfc","        created_at = payload.get('created_at') if payload.get('created_at') else time_now_rfc","    company_id = payload['company_id']","    PK = \"COMPANY#\" + company_id","    SK = \"USER#\" + company_id","    email = payload['email']","    first_name = payload['first_name']","    last_name = payload['last_name']","    address = payload.get('address', 'Lets fill it later on')","    ","    ","    return (PK, SK, company_id, user_id, email, first_name, last_name, address, created_at, updated_at,)","","def _get_user_meta_keys(company_id, user_id):","    PK = \"COMPANY#\" + company_id","    SK = \"USER#\" + user_id","    return (","        PK,","        SK","        )","        ","def _date_time_now():","    import datetime","    return str(datetime.datetime.utcnow().isoformat('T'))+'Z'","# Http response builder","","def _response(status_code, json_body):","    body = json.dumps(json_body)","","    return {","        \"statusCode\": status_code,","        \"headers\": {","            \"Content-Type\": \"application/json\",","            # \"Access-Control-Allow-Origin\": \"*\"","        },","        \"body\": body,","    }","","","def __get_table_client():","    TABLE_NAME = os.getenv(\"TABLE_NAME\")","    AWS_REGION_DYNAMODB = os.getenv('AWS_REGION_DYNAMODB')","    dynamodb = boto3.resource(\"dynamodb\", region_name=AWS_REGION_DYNAMODB)","    table = dynamodb.Table(TABLE_NAME)","    return table",""]}],[{"start":{"row":124,"column":27},"end":{"row":124,"column":37},"action":"remove","lines":["company_id"],"id":10},{"start":{"row":124,"column":27},"end":{"row":124,"column":34},"action":"insert","lines":["user_id"]}],[{"start":{"row":68,"column":35},"end":{"row":68,"column":47},"action":"remove","lines":["company_name"],"id":11},{"start":{"row":68,"column":35},"end":{"row":68,"column":45},"action":"insert","lines":["company_id"]}],[{"start":{"row":68,"column":49},"end":{"row":68,"column":61},"action":"remove","lines":["company_name"],"id":12},{"start":{"row":68,"column":49},"end":{"row":68,"column":59},"action":"insert","lines":["company_id"]}],[{"start":{"row":68,"column":62},"end":{"row":68,"column":76},"action":"remove","lines":["company_domain"],"id":13},{"start":{"row":68,"column":62},"end":{"row":68,"column":69},"action":"insert","lines":["user_id"]}],[{"start":{"row":68,"column":73},"end":{"row":68,"column":87},"action":"remove","lines":["company_domain"],"id":14},{"start":{"row":68,"column":73},"end":{"row":68,"column":80},"action":"insert","lines":["user_id"]}],[{"start":{"row":68,"column":83},"end":{"row":68,"column":98},"action":"remove","lines":["company_address"],"id":15},{"start":{"row":68,"column":83},"end":{"row":68,"column":88},"action":"insert","lines":["email"]}],[{"start":{"row":68,"column":92},"end":{"row":68,"column":107},"action":"remove","lines":["company_address"],"id":16},{"start":{"row":68,"column":92},"end":{"row":68,"column":97},"action":"insert","lines":["email"]}],[{"start":{"row":68,"column":100},"end":{"row":68,"column":110},"action":"remove","lines":["company_id"],"id":17},{"start":{"row":68,"column":100},"end":{"row":68,"column":110},"action":"insert","lines":["first_name"]}],[{"start":{"row":68,"column":114},"end":{"row":68,"column":124},"action":"remove","lines":["company_id"],"id":18},{"start":{"row":68,"column":114},"end":{"row":68,"column":124},"action":"insert","lines":["first_name"]}],[{"start":{"row":68,"column":127},"end":{"row":68,"column":137},"action":"remove","lines":["created_at"],"id":19},{"start":{"row":68,"column":127},"end":{"row":68,"column":136},"action":"insert","lines":["last_name"]}],[{"start":{"row":68,"column":140},"end":{"row":68,"column":150},"action":"remove","lines":["created_at"],"id":20},{"start":{"row":68,"column":140},"end":{"row":68,"column":149},"action":"insert","lines":["last_name"]}],[{"start":{"row":68,"column":152},"end":{"row":68,"column":162},"action":"remove","lines":["updated_at"],"id":21},{"start":{"row":68,"column":152},"end":{"row":68,"column":159},"action":"insert","lines":["address"]}],[{"start":{"row":68,"column":163},"end":{"row":68,"column":173},"action":"remove","lines":["updated_at"],"id":22},{"start":{"row":68,"column":163},"end":{"row":68,"column":170},"action":"insert","lines":["address"]}],[{"start":{"row":68,"column":170},"end":{"row":68,"column":191},"action":"insert","lines":[", #address = :address"],"id":23}],[{"start":{"row":68,"column":191},"end":{"row":68,"column":212},"action":"insert","lines":[", #address = :address"],"id":24}],[{"start":{"row":68,"column":173},"end":{"row":68,"column":180},"action":"remove","lines":["address"],"id":25},{"start":{"row":68,"column":173},"end":{"row":68,"column":183},"action":"insert","lines":["created_at"]}],[{"start":{"row":68,"column":187},"end":{"row":68,"column":194},"action":"remove","lines":["address"],"id":26},{"start":{"row":68,"column":187},"end":{"row":68,"column":197},"action":"insert","lines":["created_at"]}],[{"start":{"row":68,"column":200},"end":{"row":68,"column":207},"action":"remove","lines":["address"],"id":27},{"start":{"row":68,"column":200},"end":{"row":68,"column":210},"action":"insert","lines":["updated_at"]}],[{"start":{"row":68,"column":214},"end":{"row":68,"column":221},"action":"remove","lines":["address"],"id":28},{"start":{"row":68,"column":214},"end":{"row":68,"column":224},"action":"insert","lines":["updated_at"]}],[{"start":{"row":104,"column":23},"end":{"row":104,"column":24},"action":"remove","lines":["1"],"id":29}],[{"start":{"row":104,"column":23},"end":{"row":104,"column":24},"action":"insert","lines":["0"],"id":30}],[{"start":{"row":104,"column":4},"end":{"row":104,"column":34},"action":"remove","lines":["return _response(200, payload)"],"id":31},{"start":{"row":104,"column":4},"end":{"row":106,"column":34},"action":"insert","lines":["if json.loads(event['body']).get('company_id'):","        return _response(200, payload)","    return _response(201, payload)"]}],[{"start":{"row":104,"column":38},"end":{"row":104,"column":48},"action":"remove","lines":["company_id"],"id":32},{"start":{"row":104,"column":38},"end":{"row":104,"column":45},"action":"insert","lines":["user_id"]}],[{"start":{"row":135,"column":35},"end":{"row":135,"column":60},"action":"remove","lines":[", 'Lets fill it later on'"],"id":34}],[{"start":{"row":116,"column":4},"end":{"row":116,"column":11},"action":"remove","lines":["Company"],"id":35},{"start":{"row":116,"column":4},"end":{"row":116,"column":5},"action":"insert","lines":["U"]},{"start":{"row":116,"column":5},"end":{"row":116,"column":6},"action":"insert","lines":["s"]},{"start":{"row":116,"column":6},"end":{"row":116,"column":7},"action":"insert","lines":["e"]},{"start":{"row":116,"column":7},"end":{"row":116,"column":8},"action":"insert","lines":["r"]}],[{"start":{"row":109,"column":4},"end":{"row":109,"column":11},"action":"remove","lines":["Company"],"id":36},{"start":{"row":109,"column":4},"end":{"row":109,"column":5},"action":"insert","lines":["U"]},{"start":{"row":109,"column":5},"end":{"row":109,"column":6},"action":"insert","lines":["s"]},{"start":{"row":109,"column":6},"end":{"row":109,"column":7},"action":"insert","lines":["e"]},{"start":{"row":109,"column":7},"end":{"row":109,"column":8},"action":"insert","lines":["r"]}],[{"start":{"row":135,"column":36},"end":{"row":136,"column":0},"action":"insert","lines":["",""],"id":37},{"start":{"row":136,"column":0},"end":{"row":136,"column":4},"action":"insert","lines":["    "]},{"start":{"row":136,"column":4},"end":{"row":136,"column":5},"action":"insert","lines":["i"]}],[{"start":{"row":136,"column":5},"end":{"row":136,"column":6},"action":"insert","lines":["s"],"id":38}],[{"start":{"row":136,"column":4},"end":{"row":136,"column":6},"action":"remove","lines":["is"],"id":39},{"start":{"row":136,"column":4},"end":{"row":136,"column":12},"action":"insert","lines":["is_admin"]}],[{"start":{"row":136,"column":12},"end":{"row":136,"column":13},"action":"insert","lines":[" "],"id":40},{"start":{"row":136,"column":13},"end":{"row":136,"column":14},"action":"insert","lines":["="]}],[{"start":{"row":136,"column":14},"end":{"row":136,"column":15},"action":"insert","lines":[" "],"id":41},{"start":{"row":136,"column":15},"end":{"row":136,"column":16},"action":"insert","lines":["p"]},{"start":{"row":136,"column":16},"end":{"row":136,"column":17},"action":"insert","lines":["a"]}],[{"start":{"row":136,"column":17},"end":{"row":136,"column":18},"action":"insert","lines":["y"],"id":42}],[{"start":{"row":136,"column":15},"end":{"row":136,"column":18},"action":"remove","lines":["pay"],"id":43},{"start":{"row":136,"column":15},"end":{"row":136,"column":22},"action":"insert","lines":["payload"]}],[{"start":{"row":136,"column":22},"end":{"row":136,"column":24},"action":"insert","lines":["[]"],"id":44}],[{"start":{"row":136,"column":23},"end":{"row":136,"column":25},"action":"insert","lines":["''"],"id":45}],[{"start":{"row":136,"column":24},"end":{"row":136,"column":32},"action":"insert","lines":["is_admin"],"id":46}],[{"start":{"row":139,"column":80},"end":{"row":139,"column":88},"action":"insert","lines":["is_admin"],"id":47}],[{"start":{"row":139,"column":88},"end":{"row":139,"column":89},"action":"insert","lines":[","],"id":48}],[{"start":{"row":139,"column":89},"end":{"row":139,"column":90},"action":"insert","lines":[" "],"id":49}],[{"start":{"row":58,"column":4},"end":{"row":58,"column":94},"action":"remove","lines":["PK, SK, company_id, user_id, email, first_name, last_name, address, created_at, updated_at"],"id":50},{"start":{"row":58,"column":4},"end":{"row":58,"column":104},"action":"insert","lines":["PK, SK, company_id, user_id, email, first_name, last_name, address, is_admin, created_at, updated_at"]}],[{"start":{"row":60,"column":10},"end":{"row":60,"column":100},"action":"remove","lines":["PK, SK, company_id, user_id, email, first_name, last_name, address, created_at, updated_at"],"id":51},{"start":{"row":60,"column":10},"end":{"row":60,"column":110},"action":"insert","lines":["PK, SK, company_id, user_id, email, first_name, last_name, address, is_admin, created_at, updated_at"]}],[{"start":{"row":75,"column":38},"end":{"row":76,"column":0},"action":"insert","lines":["",""],"id":52},{"start":{"row":76,"column":0},"end":{"row":76,"column":16},"action":"insert","lines":["                "]}],[{"start":{"row":76,"column":16},"end":{"row":76,"column":18},"action":"insert","lines":["''"],"id":53}],[{"start":{"row":76,"column":17},"end":{"row":76,"column":18},"action":"insert","lines":["#"],"id":54},{"start":{"row":76,"column":18},"end":{"row":76,"column":19},"action":"insert","lines":["i"]},{"start":{"row":76,"column":19},"end":{"row":76,"column":20},"action":"insert","lines":["s"]}],[{"start":{"row":76,"column":18},"end":{"row":76,"column":20},"action":"remove","lines":["is"],"id":55},{"start":{"row":76,"column":18},"end":{"row":76,"column":26},"action":"insert","lines":["is_admin"]}],[{"start":{"row":76,"column":27},"end":{"row":76,"column":28},"action":"insert","lines":[":"],"id":56}],[{"start":{"row":76,"column":28},"end":{"row":76,"column":29},"action":"insert","lines":[" "],"id":57}],[{"start":{"row":76,"column":29},"end":{"row":76,"column":31},"action":"insert","lines":["''"],"id":58}],[{"start":{"row":76,"column":30},"end":{"row":76,"column":31},"action":"insert","lines":["i"],"id":59},{"start":{"row":76,"column":31},"end":{"row":76,"column":32},"action":"insert","lines":["s"]}],[{"start":{"row":76,"column":30},"end":{"row":76,"column":32},"action":"remove","lines":["is"],"id":60},{"start":{"row":76,"column":30},"end":{"row":76,"column":38},"action":"insert","lines":["is_admin"]}],[{"start":{"row":76,"column":39},"end":{"row":76,"column":40},"action":"insert","lines":[","],"id":61}],[{"start":{"row":86,"column":36},"end":{"row":87,"column":0},"action":"insert","lines":["",""],"id":62},{"start":{"row":87,"column":0},"end":{"row":87,"column":16},"action":"insert","lines":["                "]}],[{"start":{"row":87,"column":16},"end":{"row":87,"column":18},"action":"insert","lines":["''"],"id":63}],[{"start":{"row":87,"column":17},"end":{"row":87,"column":18},"action":"insert","lines":[":"],"id":64},{"start":{"row":87,"column":18},"end":{"row":87,"column":19},"action":"insert","lines":["i"]},{"start":{"row":87,"column":19},"end":{"row":87,"column":20},"action":"insert","lines":["s"]}],[{"start":{"row":87,"column":18},"end":{"row":87,"column":20},"action":"remove","lines":["is"],"id":65},{"start":{"row":87,"column":18},"end":{"row":87,"column":26},"action":"insert","lines":["is_admin"]}],[{"start":{"row":87,"column":27},"end":{"row":87,"column":28},"action":"insert","lines":[":"],"id":66}],[{"start":{"row":87,"column":28},"end":{"row":87,"column":29},"action":"insert","lines":[" "],"id":67},{"start":{"row":87,"column":29},"end":{"row":87,"column":30},"action":"insert","lines":["i"]},{"start":{"row":87,"column":30},"end":{"row":87,"column":31},"action":"insert","lines":["s"]}],[{"start":{"row":87,"column":29},"end":{"row":87,"column":31},"action":"remove","lines":["is"],"id":68},{"start":{"row":87,"column":29},"end":{"row":87,"column":37},"action":"insert","lines":["is_admin"]}],[{"start":{"row":87,"column":37},"end":{"row":87,"column":38},"action":"insert","lines":[","],"id":69}],[{"start":{"row":68,"column":171},"end":{"row":68,"column":172},"action":"insert","lines":[" "],"id":70},{"start":{"row":68,"column":172},"end":{"row":68,"column":173},"action":"insert","lines":["#"]}],[{"start":{"row":68,"column":173},"end":{"row":68,"column":174},"action":"insert","lines":["i"],"id":71},{"start":{"row":68,"column":174},"end":{"row":68,"column":175},"action":"insert","lines":["s"]}],[{"start":{"row":68,"column":173},"end":{"row":68,"column":175},"action":"remove","lines":["is"],"id":72},{"start":{"row":68,"column":173},"end":{"row":68,"column":181},"action":"insert","lines":["is_admin"]}],[{"start":{"row":68,"column":181},"end":{"row":68,"column":182},"action":"insert","lines":[" "],"id":73},{"start":{"row":68,"column":182},"end":{"row":68,"column":183},"action":"insert","lines":["="]}],[{"start":{"row":68,"column":183},"end":{"row":68,"column":184},"action":"insert","lines":[" "],"id":74},{"start":{"row":68,"column":184},"end":{"row":68,"column":185},"action":"insert","lines":[":"]}],[{"start":{"row":68,"column":185},"end":{"row":68,"column":186},"action":"insert","lines":["i"],"id":75},{"start":{"row":68,"column":186},"end":{"row":68,"column":187},"action":"insert","lines":["d"]}],[{"start":{"row":68,"column":186},"end":{"row":68,"column":187},"action":"remove","lines":["d"],"id":76}],[{"start":{"row":68,"column":186},"end":{"row":68,"column":187},"action":"insert","lines":["s"],"id":77}],[{"start":{"row":68,"column":187},"end":{"row":68,"column":188},"action":"insert","lines":["_"],"id":78}],[{"start":{"row":68,"column":185},"end":{"row":68,"column":188},"action":"remove","lines":["is_"],"id":79},{"start":{"row":68,"column":185},"end":{"row":68,"column":193},"action":"insert","lines":["is_admin"]}],[{"start":{"row":68,"column":193},"end":{"row":68,"column":194},"action":"insert","lines":[","],"id":80}]]},"ace":{"folds":[],"scrolltop":537.5,"scrollleft":0,"selection":{"start":{"row":93,"column":36},"end":{"row":93,"column":36},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":40,"state":"start","mode":"ace/mode/python"}},"timestamp":1579437684831,"hash":"115f8ae74e13f23bb9268a4a304c84752b52254c"}