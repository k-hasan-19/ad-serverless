{"filter":false,"title":"add_gsi.py","tooltip":"/table-scripts/add_gsi.py","undoManager":{"mark":10,"position":10,"stack":[[{"start":{"row":0,"column":0},"end":{"row":48,"column":12},"action":"insert","lines":["import boto3","","dynamodb = boto3.client('dynamodb')","","try:","    dynamodb.update_table(","        TableName='EAPInNeed',","        AttributeDefinitions=[","            {","                \"AttributeName\": \"user_id\",","                \"AttributeType\": \"S\"","            },","            {","                \"AttributeName\": \"shared_on\",","                \"AttributeType\": \"S\"","            }","        ],","        GlobalSecondaryIndexUpdates=[","            {","                \"Create\": {","                    \"IndexName\": \"user_id-shared_on-index\",","                    \"KeySchema\": [","                        {","                            \"AttributeName\": \"user_id\",","                            \"KeyType\": \"HASH\"","                        },","                        {","                            \"AttributeName\": \"shared_on\",","                            \"KeyType\": \"RANGE\"","                        }","                    ],","                    \"Projection\": {","                        \"ProjectionType\": \"INCLUDE\",","                        'NonKeyAttributes': [","                        'post_id','points'","                    ]","                    },","                    \"ProvisionedThroughput\": {","                        \"ReadCapacityUnits\": 5,","                        \"WriteCapacityUnits\": 5","                    }","                }","            }","        ],","    )","    print(\"Table updated successfully.\")","except Exception as e:","    print(\"Could not update table. Error:\")","    print(e)"],"id":1}],[{"start":{"row":2,"column":34},"end":{"row":2,"column":59},"action":"insert","lines":[", region_name='us-west-2'"],"id":2}],[{"start":{"row":6,"column":19},"end":{"row":6,"column":28},"action":"remove","lines":["EAPInNeed"],"id":3},{"start":{"row":6,"column":19},"end":{"row":6,"column":28},"action":"insert","lines":["inneedEap"]}],[{"start":{"row":9,"column":34},"end":{"row":9,"column":41},"action":"remove","lines":["user_id"],"id":4},{"start":{"row":9,"column":34},"end":{"row":9,"column":36},"action":"insert","lines":["PK"]}],[{"start":{"row":13,"column":34},"end":{"row":13,"column":43},"action":"remove","lines":["shared_on"],"id":5},{"start":{"row":13,"column":34},"end":{"row":13,"column":49},"action":"insert","lines":["post_created_at"]}],[{"start":{"row":20,"column":34},"end":{"row":20,"column":57},"action":"remove","lines":["user_id-shared_on-index"],"id":6},{"start":{"row":20,"column":34},"end":{"row":20,"column":58},"action":"insert","lines":["PK-post_created_at-index"]}],[{"start":{"row":23,"column":46},"end":{"row":23,"column":53},"action":"remove","lines":["user_id"],"id":7},{"start":{"row":23,"column":46},"end":{"row":23,"column":48},"action":"insert","lines":["PK"]}],[{"start":{"row":27,"column":46},"end":{"row":27,"column":55},"action":"remove","lines":["shared_on"],"id":8},{"start":{"row":27,"column":46},"end":{"row":27,"column":61},"action":"insert","lines":["post_created_at"]}],[{"start":{"row":32,"column":51},"end":{"row":35,"column":21},"action":"remove","lines":[",","                        'NonKeyAttributes': [","                        'post_id','points'","                    ]"],"id":9}],[{"start":{"row":32,"column":43},"end":{"row":32,"column":50},"action":"remove","lines":["INCLUDE"],"id":10},{"start":{"row":32,"column":43},"end":{"row":32,"column":44},"action":"insert","lines":["A"]},{"start":{"row":32,"column":44},"end":{"row":32,"column":45},"action":"insert","lines":["L"]},{"start":{"row":32,"column":45},"end":{"row":32,"column":46},"action":"insert","lines":["L"]}],[{"start":{"row":14,"column":34},"end":{"row":14,"column":35},"action":"remove","lines":["S"],"id":11},{"start":{"row":14,"column":34},"end":{"row":14,"column":35},"action":"insert","lines":["N"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":29,"column":25},"end":{"row":29,"column":25},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1579498378841,"hash":"25c454f9fb886ccee507267b2acf05d74c5670b8"}